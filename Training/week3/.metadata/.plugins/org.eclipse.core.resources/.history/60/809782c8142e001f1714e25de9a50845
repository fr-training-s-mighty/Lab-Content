import java.util.List;

import org.springframework.context.ApplicationContext;
import org.springframework.context.annotation.AnnotationConfigApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

import com.simplilearn.config.AppConfig;
import com.simplilearn.model.Customer;
import com.simplilearn.services.BankServicer;
import com.simplilearn.services.BankServicerImpl;

public class Program {

	public static void main(String[] args) {
		
	
		ApplicationContext spring_container = new AnnotationConfigApplicationContext(AppConfig.class);
		
		BankServicer cusService = spring_container.getBean("bankService",BankServicer.class);
		
//		
		performOperations(cusService, "Field injection");

	}

	private static void performOperations(BankServicer cusService, String injectionType) {
		System.out.println("\n" + injectionType + "\n");
		System.out.println("Adding Todos...");
		cusService.addTodo("Learn  Java");
		cusService.addTodo("Build a Todo Application");
		cusService.addTodo("Refactor code using spring and spring boot");

		System.out.println("\n All Todos");
		displayTodos(todoService.getAllTodos());

		System.out.println("\n Marking Todo with ID 1 as completed");
		cusService.markCompleted(1);

		System.out.println("\n All Todos after update:");
		displayTodos(todoService.getAllTodos());

		System.out.println("\n Removing Todo with  id 2 ...");
		cusService.removeTodo(2);

		System.out.println("\n All Todos after removal:");
		displayTodos(cusService.getAllTodos());

	}

	private static void displayTodos(List<Customer> allTodos) {
		for (Customer cus : allTodos) {
			System.out.println(cus);
		}

	}
}